package sbnz.integracija;
dialect  "mvel"

import ftn.sbnz.SbnzProject.model.MealRecipe
import ftn.sbnz.SbnzProject.model.Notification
import java.util.List


query sugarMax(Double s)
    MealRecipe(sugars > s)
end

query saturatedFatMax(Double s)
    MealRecipe(saturatedFat > s)
end

rule "Query"
agenda-group "query"
    when
        $meal: MealRecipe()
        sugarMax(15.0;)
        saturatedFatMax(9.0;)
        $notification: Notification()
    then
        $notification.addToList("You should avoid " + $meal.name);
        delete($meal);
end

